<!doctype html>
<html lang="en">

<head>
     <meta charset="utf-8">
     <title>Javascript tree with autoscroll</title>
     <link rel="stylesheet" href="css/jqtree.css">
     <link rel="stylesheet" href="css/bootstrap.min.css">

     <script src="js/jquery-3.5.1.min.js"></script>
     <script src="js/tree.jquery-1.5.1.js"></script>
     <script src="../jqTreeContextMenu.js"></script>

     <style type="text/css">
          .myMenuStyle {
               position: absolute;
               background-color: #eee;
               border: 1px solid #000;
               list-style: none;
          }

          .myMenuStyle>li {
               background-color: #eee;
          }
     </style>
</head>

<body class="container">
	<h1>Example</h1>
    <p class="lead">This is an example of a context menu for jqTree. </p>

    <div>
        <div id="tree1">
        </div>
    </div>

	<ul id="myMenu1" class="dropdown-menu" role="menu" aria-labelledby="dLabel">
		<li class="edit"><a href="#edit"><i class="icon-edit"></i> Edit</a></li>
		<li class="delete"><a href="#delete"><i class="icon-remove"></i> Delete</a></li>
		<li class="divider"></li>
		<li class="add"><a href="#add"><i class="icon-plus"></i> Add</a></li>
	</ul>

	<ul id="myMenu2" class="dropdown-menu" role="menu" aria-labelledby="dLabel">
		<li class="edit"><a href="#edit"><i class="icon-edit"></i> Edit</a></li>
		<li class="delete"><a href="#delete"><i class="icon-remove"></i> Delete</a></li>
	</ul>
	
    <script>
        $(function () {
            var data = [{
                label: 'node1',
                children: [{ label: 'child1' },
                           { label: 'child2' }]
            },{
                 label: 'node2',
                 children: [{ label: 'child3'}]
            }];

            var $tree = $('#tree1');
            $tree.tree({
              data: data,
              autoOpen: true,
              usecontextmenu: true
            });
			
            $('#tree1').jqTreeContextMenu((node) => {
                 return node.name.startsWith('node') ? $('#myMenu1') : $('#myMenu2');
            }, {
              "edit": function (node) { alert('Edit node: ' + node.name); },
              "delete": function (node) { alert('Delete node: ' + node.name); },
              "add": function (node) { alert('Add node: ' + node.name); }
            });
        });
    </script>
</body>

</html>